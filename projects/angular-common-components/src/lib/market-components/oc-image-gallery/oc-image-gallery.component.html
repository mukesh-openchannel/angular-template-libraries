<div class="image-gallery">
    <ng-container *ngIf="allowArrowControllers">
        <owl-carousel-o [options]="carouselOptions" #carousel>
            <ng-template carouselSlide *ngFor="let item of displayGallery" [width]="300">
                    <ng-container [ngTemplateOutlet]="itemMedia" [ngTemplateOutletContext]="{$implicit: item}"></ng-container>
            </ng-template>
        </owl-carousel-o>
    </ng-container>
    <ng-container *ngIf="!allowArrowControllers">
        <ng-container *ngFor="let item of displayGallery"
                      [ngTemplateOutlet]="itemMedia"
                      [ngTemplateOutletContext]="{$implicit: item}"></ng-container>
    </ng-container>
</div>

<ng-template #itemMedia let-item>
    <div class="image-gallery__item">
        <div class="image-gallery__item-media"
             [style.width]="mediaDimensions.width"
             [style.height]="mediaDimensions.height">
            <img [src]="item.image" *ngIf="item.image"
                 alt="icon" class="image-gallery__item-image">
            <oc-video [videoUrl]="item.video" *ngIf="item.video && !item.image"
                      class="image-gallery__item-video"></oc-video>
        </div>
        <div class="image-gallery__item-details" *ngIf="displayDetails">
            <p class="image-gallery__item-title">{{item.title}}</p>
            <span class="image-gallery__item-description">{{item.description}}</span>
        </div>
    </div>
</ng-template>
