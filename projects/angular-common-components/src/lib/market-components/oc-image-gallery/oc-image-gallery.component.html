<div class="image-gallery" [class.image-gallery_paddings]="allowArrowControllers">
    <ng-container *ngIf="allowArrowControllers">
        <div class="image-gallery__carousel-nav image-gallery__carousel-nav-left"
             id="iconLeft"
             (click)="carousel.prev()">
            <img src="assets/angular-common-components/arrow-left-analog.svg" alt="previous slide">
        </div>
        <owl-carousel-o [options]="carouselOptions" #carousel>
            <ng-template carouselSlide *ngFor="let item of displayGallery" [width]="slideWidth">
                    <ng-container [ngTemplateOutlet]="itemMedia" [ngTemplateOutletContext]="{$implicit: item}"></ng-container>
            </ng-template>
        </owl-carousel-o>
        <div id="iconRight"
             class="image-gallery__carousel-nav image-gallery__carousel-nav-right"
             (click)="carousel.next()">
            <img src="assets/angular-common-components/arrow-right-analog.svg" alt="next slide">
        </div>
    </ng-container>
    <ng-container *ngIf="!allowArrowControllers">
        <ng-container *ngFor="let item of displayGallery"
                      [ngTemplateOutlet]="itemMedia"
                      [ngTemplateOutletContext]="{$implicit: item}"></ng-container>
    </ng-container>
</div>


<ng-template #itemMedia let-item>
    <div class="image-gallery__item">
        <div class="image-gallery__item-media"
             [style.width]="mediaDimensions.width"
             [style.height]="mediaDimensions.height">
            <img [src]="item.image" *ngIf="item.image"
                 alt="icon" class="image-gallery__item-image">
            <oc-video [videoUrl]="item.video" *ngIf="item.video && !item.image"
                      class="image-gallery__item-video"></oc-video>
        </div>
        <div class="image-gallery__item-details" *ngIf="displayDetails">
            <p class="image-gallery__item-title">{{item.title}}</p>
            <span class="image-gallery__item-description">{{item.description}}</span>
        </div>
    </div>
</ng-template>
