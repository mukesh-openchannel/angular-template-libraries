<div class="form-steps">
    <ng-container *ngIf="hasFieldGroup; else singleForm">
        <h5 class="form-steps__label">Step {{currentStep}}. {{currentForm.label ? currentForm.label.label : ''}}</h5>
        <oc-single-form [formJsonData]="currentForm.formConfig"
                        [generatedForm]="currentForm"
                        [showButton]="false"
                        [labelPosition]="labelPosition"
                        (formDataUpdated)="onFormDataUpdated($event)"></oc-single-form>
    </ng-container>
    <div class="form-steps__options form-steps__options--{{buttonPosition}}"
         *ngIf="showButton">
        <oc-button *ngIf="isFirstStep"
                   class="form__button"
                   type="secondary"
                   text="Cancel"
                   (click)="cancelSubmit.emit()"></oc-button>
        <oc-button *ngIf="currentStep > 1"
                   (click)="navigateSteps('previous')"
                   class="form__button"
                   type="secondary"
                   text="Previous step"></oc-button>
        <oc-button *ngIf="currentStep < customForm?.length"
                   (click)="navigateSteps('next')"
                   class="form__button"
                   type="primary"
                   text="Next step"></oc-button>
        <ng-container *ngIf="additionalButton && isLastStep"
                      [ngTemplateOutlet]="additionalButton"></ng-container>
        <oc-button *ngIf="showSubmitButton && isLastStep"
                   (click)="onSubmitButtonClicked()"
                   [process]="process"
                   class="form__button"
                   type="primary"
                   [text]="successButtonText"></oc-button>
    </div>
</div>

<ng-template #singleForm>
    <oc-single-form [formJsonData]="formJsonData"
                    [generatedForm]="generatedForm"
                    [labelPosition]="labelPosition"
                    [process]="process"
                    [showButton]="false"
                    (isFormInvalid)="isFormInvalid.emit($event)"
                    (formDataUpdated)="formDataUpdated.emit($event)"
                    (createdForm)="createdForm.emit($event)"></oc-single-form>
</ng-template>
